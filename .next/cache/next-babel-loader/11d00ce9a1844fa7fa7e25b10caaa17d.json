{"ast":null,"code":"var __jsx = React.createElement;\n// react\nimport React from 'react'; // third-party\n\nimport classNames from 'classnames';\nimport { FormattedMessage } from 'react-intl'; // application\n\nimport Checkbox from '~/components/shared/Checkbox';\nimport Rating from '~/components/shared/Rating';\n\nfunction FilterRating(props) {\n  const {\n    options,\n    value,\n    onChangeValue\n  } = props;\n\n  const updateValue = newValue => {\n    if (onChangeValue) {\n      onChangeValue({\n        filter: options,\n        value: newValue\n      });\n    }\n  }; // noinspection DuplicatedCode\n\n\n  const handleChange = event => {\n    const currentValue = parseFloat(event.target.value);\n\n    if (event.target.checked && !value.includes(currentValue)) {\n      updateValue([...value, currentValue]);\n    }\n\n    if (!event.target.checked && value.includes(currentValue)) {\n      updateValue(value.filter(x => x !== currentValue));\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"filter-rating\"\n  }, __jsx(\"ul\", {\n    className: \"filter-rating__list\"\n  }, options.items.map(item => __jsx(\"li\", {\n    key: item.rating,\n    className: classNames('filter-rating__item', {\n      'filter-rating__item--disabled': item.count === 0\n    })\n  }, __jsx(\"label\", {\n    className: \"filter-rating__item-label\"\n  }, __jsx(Checkbox, {\n    className: \"filter-rating__item-input\",\n    value: item.rating,\n    checked: value.includes(item.rating),\n    disabled: item.count === 0,\n    onChange: handleChange\n  }), __jsx(\"span\", {\n    className: \"filter-rating__item-stars\"\n  }, __jsx(Rating, {\n    value: item.rating\n  })), __jsx(\"span\", {\n    className: \"filter-rating__item-title sr-only\"\n  }, __jsx(FormattedMessage, {\n    id: \"TEXT_STARS\",\n    values: {\n      stars: item.rating\n    }\n  })), item.count !== 0 && __jsx(\"span\", {\n    className: \"filter-rating__item-counter\"\n  }, item.count))))));\n}\n\nexport default FilterRating;","map":null,"metadata":{},"sourceType":"module"}
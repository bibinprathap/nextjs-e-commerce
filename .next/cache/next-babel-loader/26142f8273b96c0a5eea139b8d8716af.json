{"ast":null,"code":"var __jsx = React.createElement;\n// react\nimport React from 'react'; // third-party\n\nimport { NextSeo } from 'next-seo'; // application\n\nimport ShopPageProduct from '~/components/shop/ShopPageProduct';\nimport { shopApi } from '~/api';\nimport SitePageNotFound from '~/components/site/SitePageNotFound';\nimport { getClient } from '~/api/fake-api/redis';\nexport const getServerSideProps = async ({\n  params\n}) => {\n  const slug = typeof (params === null || params === void 0 ? void 0 : params.slug) === 'string' ? params === null || params === void 0 ? void 0 : params.slug : \"\";\n  const redis = await getClient();\n  const toDosCache = await redis.get(slug);\n\n  if (slug && toDosCache !== null) {\n    const res = JSON.parse(toDosCache);\n    console.log(res);\n    return {\n      props: {\n        product: res\n      }\n    };\n  } else {\n    const p = await shopApi.getProductBySlug(slug);\n    if (p.slug) redis.set(slug, JSON.stringify(p));\n    return {\n      props: {\n        product: slug ? p : null\n      }\n    };\n  }\n};\n\nfunction Page(props) {\n  const {\n    product\n  } = props;\n\n  if (product === null) {\n    return __jsx(SitePageNotFound, null);\n  }\n\n  return __jsx(React.Fragment, null, __jsx(NextSeo, {\n    title: product.name + product.partNumber + 'buy online at  best  price in UAE' || product.description,\n    description: product.excerpt || product.name + product.partNumber + 'buy online at  best  price in UAE'\n  }), __jsx(ShopPageProduct, {\n    product: product,\n    layout: \"full\"\n  }));\n}\n\nexport default Page;","map":null,"metadata":{},"sourceType":"module"}
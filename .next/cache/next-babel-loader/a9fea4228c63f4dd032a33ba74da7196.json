{"ast":null,"code":"// react\nimport { useMemo, useState } from 'react'; // third-party\n\nimport { useForm } from 'react-hook-form'; // application\n\nimport { useAsyncAction } from '~/store/hooks';\nimport { useUserSignUp } from '~/store/user/userHooks';\nexport function useSignUpForm(options = {}) {\n  const signUp = useUserSignUp();\n  const {\n    onSuccess\n  } = options;\n  const {\n    0: serverError,\n    1: setServerError\n  } = useState(null);\n  const methods = useForm({\n    defaultValues: {\n      email: 'user@example.com',\n      password: '123456',\n      confirmPassword: '123456'\n    }\n  });\n  const {\n    handleSubmit\n  } = methods;\n  const [submit, submitInProgress] = useAsyncAction(data => {\n    setServerError(null);\n    return signUp(data.email, data.password).then(() => {\n      if (onSuccess) {\n        onSuccess();\n      }\n    }, error => {\n      setServerError(`ERROR_API_${error.message}`);\n    });\n  }, [signUp, setServerError, onSuccess]);\n  return {\n    submit: useMemo(() => handleSubmit(submit), [handleSubmit, submit]),\n    submitInProgress: submitInProgress || methods.formState.isSubmitting,\n    serverError,\n    errors: methods.errors,\n    register: methods.register,\n    watch: methods.watch\n  };\n}","map":null,"metadata":{},"sourceType":"module"}
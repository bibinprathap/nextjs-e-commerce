{"ast":null,"code":"var __jsx = React.createElement;\n// react\nimport React, { useContext, useState } from 'react';\nimport ReactDOM from 'react-dom'; // application\n\nimport { ArrowRoundedLeft7x11Svg } from '~/svg';\nimport { MobileMenuContext, MobileMenuLevelContext } from '~/services/mobile-menu';\n\nfunction MobileMenuPanelController(props) {\n  var label = props.label,\n      content = props.content,\n      children = props.children;\n  var level = useContext(MobileMenuLevelContext);\n  var conveyor = useContext(MobileMenuContext);\n\n  var _useState = useState(function () {\n    conveyor.lastPanelIdRef.current += 1;\n    return conveyor.lastPanelIdRef.current;\n  }),\n      id = _useState[0];\n\n  var childrenTemplate = children(function () {\n    conveyor.open(id);\n  }) || null;\n\n  var renderPanel = function renderPanel() {\n    if (!conveyor.containerRef || !conveyor.containerRef.current) {\n      return null;\n    }\n\n    var panel = __jsx(\"div\", {\n      className: \"mobile-menu__panel\",\n      style: {\n        transform: \"translateX(\".concat(level * 100, \"%)\")\n      }\n    }, __jsx(\"div\", {\n      className: \"mobile-menu__panel-header\"\n    }, level > 0 && __jsx(\"button\", {\n      className: \"mobile-menu__panel-back\",\n      type: \"button\",\n      onClick: conveyor.close\n    }, __jsx(ArrowRoundedLeft7x11Svg, null)), __jsx(\"div\", {\n      className: \"mobile-menu__panel-title\"\n    }, label)), __jsx(\"div\", {\n      className: \"mobile-menu__panel-body\"\n    }, __jsx(MobileMenuLevelContext.Provider, {\n      value: level + 1\n    }, content)));\n\n    return ReactDOM.createPortal(panel, conveyor.containerRef.current);\n  };\n\n  return __jsx(React.Fragment, null, (conveyor.stack.includes(id) || conveyor.bin.includes(id)) && renderPanel(), childrenTemplate && React.Children.only(childrenTemplate));\n}\n\nexport default MobileMenuPanelController;","map":null,"metadata":{},"sourceType":"module"}
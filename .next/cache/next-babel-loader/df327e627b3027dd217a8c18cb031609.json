{"ast":null,"code":"var __jsx = React.createElement;\n// react\nimport React, { useState } from 'react'; // third-party\n\nimport classNames from 'classnames';\nimport { FormattedMessage, useIntl } from 'react-intl'; // application\n\nimport AccountLayout from '~/components/account/AccountLayout';\nimport AppLink from '~/components/shared/AppLink';\nimport AsyncAction from '~/components/shared/AsyncAction';\nimport PageTitle from '~/components/shared/PageTitle';\nimport url from '~/services/url';\nimport VehicleForm from '~/components/shared/VehicleForm';\nimport { RecycleBin16Svg } from '~/svg';\nimport { useGarageAddItem, useGarageRemoveItem, useUserVehicles } from '~/store/garage/garageHooks';\n\nfunction Page() {\n  const intl = useIntl();\n  const vehicles = useUserVehicles();\n  const {\n    0: vehicle,\n    1: setVehicle\n  } = useState(null);\n  const garageAddItem = useGarageAddItem();\n  const garageRemoveItem = useGarageRemoveItem();\n  return __jsx(\"div\", {\n    className: \"card\"\n  }, __jsx(PageTitle, null, intl.formatMessage({\n    id: 'HEADER_GARAGE'\n  })), vehicles.length > 0 && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"card-header\"\n  }, __jsx(\"h5\", null, __jsx(FormattedMessage, {\n    id: \"HEADER_GARAGE\"\n  }))), __jsx(\"div\", {\n    className: \"card-divider\"\n  }), __jsx(\"div\", {\n    className: \"card-body card-body--padding--2\"\n  }, __jsx(\"div\", {\n    className: \"vehicles-list vehicles-list--layout--account\"\n  }, __jsx(\"div\", {\n    className: \"vehicles-list__body\"\n  }, vehicles.map((vehicle, index) => __jsx(\"div\", {\n    key: index,\n    className: \"vehicles-list__item\"\n  }, __jsx(\"div\", {\n    className: \"vehicles-list__item-info\"\n  }, __jsx(\"div\", {\n    className: \"vehicles-list__item-name\"\n  }, `${vehicle.year} ${vehicle.make} ${vehicle.model}`), __jsx(\"div\", {\n    className: \"vehicles-list__item-details\"\n  }, __jsx(FormattedMessage, {\n    id: \"TEXT_VEHICLE_ENGINE\",\n    values: {\n      engine: vehicle.engine\n    }\n  })), __jsx(\"div\", {\n    className: \"vehicles-list__item-links\"\n  }, __jsx(AppLink, {\n    href: url.products({\n      filters: {\n        filter_vehicle: vehicle.id.toString()\n      }\n    })\n  }, __jsx(FormattedMessage, {\n    id: \"LINK_SHOW_PARTS\"\n  })))), __jsx(AsyncAction, {\n    action: () => garageRemoveItem(vehicle.id),\n    render: ({\n      run,\n      loading\n    }) => __jsx(\"button\", {\n      type: \"button\",\n      className: classNames('vehicles-list__item-remove', {\n        'vehicles-list__item-remove--loading': loading\n      }),\n      onClick: run\n    }, __jsx(RecycleBin16Svg, null))\n  })))))), __jsx(\"div\", {\n    className: \"card-divider\"\n  })), __jsx(\"div\", {\n    className: \"card-header\"\n  }, __jsx(\"h5\", null, __jsx(FormattedMessage, {\n    id: \"HEADER_ADD_VEHICLE\"\n  }))), __jsx(\"div\", {\n    className: \"card-divider\"\n  }), __jsx(\"div\", {\n    className: \"card-body card-body--padding--2\"\n  }, __jsx(VehicleForm, {\n    location: \"account\",\n    onVehicleChange: setVehicle\n  }), __jsx(\"div\", {\n    className: \"mt-4 pt-3\"\n  }, __jsx(AsyncAction, {\n    action: () => vehicle ? garageAddItem(vehicle.id) : Promise.resolve(),\n    render: ({\n      run,\n      loading\n    }) => __jsx(\"button\", {\n      type: \"button\",\n      className: classNames('btn', 'btn-primary', {\n        'btn-loading': loading\n      }),\n      disabled: vehicle === null,\n      onClick: run\n    }, __jsx(FormattedMessage, {\n      id: \"BUTTON_ADD_VEHICLE\"\n    }))\n  }))));\n}\n\nPage.Layout = AccountLayout;\nexport default Page;","map":null,"metadata":{},"sourceType":"module"}
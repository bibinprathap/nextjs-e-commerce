{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// react\nimport React, { useEffect, useMemo } from 'react'; // third-party\n\nimport AppBase from 'next/app';\nimport Head from 'next/head';\nimport { useStore } from 'react-redux';\nimport { DefaultSeo } from 'next-seo';\nimport NextNprogress from 'nextjs-progressbar'; // application\n\nimport config from '~/config';\nimport LanguageProvider, { getLanguageInitialProps } from '~/services/i18n/provider';\nimport Layout from '~/components/Layout';\nimport PageTitle from '~/components/shared/PageTitle';\nimport { CurrentVehicleGarageProvider } from '~/services/current-vehicle';\nimport { getLanguageByLocale, getLanguageByPath } from '~/services/i18n/utils';\nimport { load, save, wrapper } from '~/store/store';\nimport { optionsSetAll } from '~/store/options/optionsActions';\nimport { useApplyClientState } from '~/store/client';\nimport { useLoadUserVehicles } from '~/store/garage/garageHooks'; // styles\n\nimport '../scss/index.scss';\nimport '../scss/style.header-spaceship-variant-one.scss';\nimport '../scss/style.header-spaceship-variant-two.scss';\nimport '../scss/style.header-spaceship-variant-three.scss';\nimport '../scss/style.header-classic-variant-one.scss';\nimport '../scss/style.header-classic-variant-two.scss';\nimport '../scss/style.header-classic-variant-three.scss';\nimport '../scss/style.header-classic-variant-four.scss';\nimport '../scss/style.header-classic-variant-five.scss';\nimport '../scss/style.mobile-header-variant-one.scss';\nimport '../scss/style.mobile-header-variant-two.scss';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\n\nfunction App(props) {\n  const {\n    Component,\n    pageProps,\n    languageInitialProps\n  } = props;\n  const store = useStore();\n  const applyClientState = useApplyClientState();\n  const loadUserVehicles = useLoadUserVehicles(); // Loading and saving state on the client side (cart, wishlist, etc.).\n\n  useEffect(() => {\n    const state = load();\n    applyClientState(state || {});\n\n    if (false) {\n      store.subscribe(() => {\n        save(store.getState());\n      });\n    }\n  }, [store, applyClientState]); // Load user vehicles\n\n  useEffect(() => {\n    loadUserVehicles().then();\n  }, [loadUserVehicles]); // preloader\n\n  useEffect(() => {\n    const preloader = document.querySelector('.site-preloader');\n\n    if (!preloader) {\n      return;\n    }\n\n    setTimeout(() => {\n      if (preloader.parentNode) {\n        preloader.parentNode.removeChild(preloader);\n      }\n    }, 100);\n  }, []);\n  const page = useMemo(() => {\n    const PageLayout = Component.Layout || React.Fragment;\n    return __jsx(Layout, null, __jsx(PageLayout, null, __jsx(Component, pageProps)));\n  }, [Component, pageProps]); // noinspection HtmlRequiredTitleElement\n\n  return __jsx(LanguageProvider, languageInitialProps, __jsx(CurrentVehicleGarageProvider, null, __jsx(PageTitle, null), __jsx(DefaultSeo, {\n    titleTemplate: '%s | Royal Auto Parts Market',\n    openGraph: {\n      type: 'website',\n      locale: 'en_IE',\n      url: 'https://royalautopartsmarket.com/',\n      site_name: 'Royal Auto Parts Market'\n    }\n  }), __jsx(NextNprogress, {\n    color: \"#29D\",\n    startPosition: 0.3,\n    stopDelayMs: 200,\n    height: 3\n  }), __jsx(Head, null, __jsx(\"meta\", {\n    name: \"viewport\",\n    content: \"width=device-width, initial-scale=1\"\n  }), __jsx(\"script\", {\n    dangerouslySetInnerHTML: {\n      __html: `(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n                        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n                        })(window,document,'script','dataLayer','GTM-PF4MPLN');`\n    }\n  })), __jsx(\"noscript\", {\n    dangerouslySetInnerHTML: {\n      __html: `<iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-PF4MPLN\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden;\"></iframe>`\n    }\n  }), page));\n}\n\nApp.getInitialProps = async context => {\n  const dispatch = context.ctx.store.dispatch;\n  await dispatch(optionsSetAll({\n    desktopHeaderVariant: config.desktopHeaderVariant,\n    mobileHeaderVariant: config.mobileHeaderVariant\n  }));\n  let language;\n\n  if (typeof context.ctx.query.lang === 'string') {\n    language = getLanguageByLocale(context.ctx.query.lang);\n  } else {\n    language = getLanguageByPath(context.ctx.asPath || context.ctx.pathname);\n  }\n\n  return _objectSpread(_objectSpread({}, await AppBase.getInitialProps(context)), {}, {\n    languageInitialProps: await getLanguageInitialProps(language)\n  });\n};\n\nconst WrappedApp = wrapper.withRedux(App); // noinspection JSUnusedGlobalSymbols\n\nexport default WrappedApp;","map":null,"metadata":{},"sourceType":"module"}
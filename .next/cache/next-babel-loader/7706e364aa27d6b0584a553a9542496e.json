{"ast":null,"code":"// application\nimport { clone, delayResponse, error } from '~/fake-server/utils';\nimport { userVehicles, vehicles } from '~/fake-server/database/vehicles';\nexport function getYears() {\n  var result = [];\n  vehicles.forEach(function (vehicle) {\n    if (result.indexOf(vehicle.year) === -1) {\n      result.push(vehicle.year);\n    }\n  });\n  return delayResponse(Promise.resolve(result.sort()), 750);\n}\nexport function getMakes(year) {\n  var result = [];\n  vehicles.filter(function (x) {\n    return x.year === year;\n  }).forEach(function (vehicle) {\n    if (result.indexOf(vehicle.make) === -1) {\n      result.push(vehicle.make);\n    }\n  });\n  return delayResponse(Promise.resolve(result.sort()), 750);\n}\nexport function getModels(year, make) {\n  var result = [];\n  vehicles.filter(function (x) {\n    return x.year === year && x.make === make;\n  }).forEach(function (vehicle) {\n    if (result.indexOf(vehicle.model) === -1) {\n      result.push(vehicle.model);\n    }\n  });\n  return delayResponse(Promise.resolve(result.sort()), 750);\n}\nexport function getVehicles(year, make, model) {\n  var result = vehicles.filter(function (x) {\n    return x.year === year && x.make === make && x.model === model;\n  });\n  return delayResponse(Promise.resolve(result.sort()), 750);\n}\nexport function getVehicleByVin(vin) {\n  var vinValue = vin.trim();\n  var vehicle = vehicles.find(function (x) {\n    return x.model === 'Focus S';\n  });\n\n  if (vinValue === '' || vinValue === 'error' || !vehicle) {\n    return error('Page Not Found');\n  }\n\n  return Promise.resolve(vehicle);\n}\nexport function getUserVehicles() {\n  return Promise.resolve(clone(userVehicles));\n}\nexport function addUserVehicles(vehicleId) {\n  var index = userVehicles.findIndex(function (x) {\n    return x.id === vehicleId;\n  });\n  var vehicle = vehicles.find(function (x) {\n    return x.id === vehicleId;\n  });\n\n  if (vehicle && index === -1) {\n    userVehicles.push(vehicle);\n  }\n\n  return delayResponse(Promise.resolve());\n}\nexport function removeUserVehicles(vehicleId) {\n  var index = userVehicles.findIndex(function (x) {\n    return x.id === vehicleId;\n  });\n\n  if (index !== -1) {\n    userVehicles.splice(index, 1);\n  }\n\n  return delayResponse(Promise.resolve());\n}","map":null,"metadata":{},"sourceType":"module"}
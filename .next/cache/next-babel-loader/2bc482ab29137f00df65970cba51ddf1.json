{"ast":null,"code":"var __jsx = React.createElement;\n// react\nimport React, { useContext, useState } from 'react';\nimport ReactDOM from 'react-dom'; // application\n\nimport { ArrowRoundedLeft7x11Svg } from '~/svg';\nimport { MobileMenuContext, MobileMenuLevelContext } from '~/services/mobile-menu';\n\nfunction MobileMenuPanelController(props) {\n  const {\n    label,\n    content,\n    children\n  } = props;\n  const level = useContext(MobileMenuLevelContext);\n  const conveyor = useContext(MobileMenuContext);\n  const {\n    0: id\n  } = useState(() => {\n    conveyor.lastPanelIdRef.current += 1;\n    return conveyor.lastPanelIdRef.current;\n  });\n  const childrenTemplate = children(() => {\n    conveyor.open(id);\n  }) || null;\n\n  const renderPanel = () => {\n    if (!conveyor.containerRef || !conveyor.containerRef.current) {\n      return null;\n    }\n\n    const panel = __jsx(\"div\", {\n      className: \"mobile-menu__panel\",\n      style: {\n        transform: `translateX(${level * 100}%)`\n      }\n    }, __jsx(\"div\", {\n      className: \"mobile-menu__panel-header\"\n    }, level > 0 && __jsx(\"button\", {\n      className: \"mobile-menu__panel-back\",\n      type: \"button\",\n      onClick: conveyor.close\n    }, __jsx(ArrowRoundedLeft7x11Svg, null)), __jsx(\"div\", {\n      className: \"mobile-menu__panel-title\"\n    }, label)), __jsx(\"div\", {\n      className: \"mobile-menu__panel-body\"\n    }, __jsx(MobileMenuLevelContext.Provider, {\n      value: level + 1\n    }, content)));\n\n    return ReactDOM.createPortal(panel, conveyor.containerRef.current);\n  };\n\n  return __jsx(React.Fragment, null, (conveyor.stack.includes(id) || conveyor.bin.includes(id)) && renderPanel(), childrenTemplate && React.Children.only(childrenTemplate));\n}\n\nexport default MobileMenuPanelController;","map":null,"metadata":{},"sourceType":"module"}
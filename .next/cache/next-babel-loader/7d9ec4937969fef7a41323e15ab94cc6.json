{"ast":null,"code":"var __jsx = React.createElement;\n// react\nimport React, { useEffect, useState } from 'react'; // third-party\n\nimport { FormattedMessage, useIntl } from 'react-intl'; // application\n\nimport AppLink from '~/components/shared/AppLink';\nimport CurrencyFormat from '~/components/shared/CurrencyFormat';\nimport Rating from '~/components/shared/Rating';\nimport url from '~/services/url';\nimport { shopApi } from '~/api';\n\nfunction AnalogsTable(props) {\n  const intl = useIntl();\n  const {\n    productId\n  } = props;\n  const {\n    0: analogs,\n    1: setAnalogs\n  } = useState([]);\n  useEffect(() => {\n    let canceled = false;\n    shopApi.getProductAnalogs(productId).then(result => {\n      if (canceled) {\n        return;\n      }\n\n      debugger;\n      setAnalogs(result);\n    });\n    return () => {\n      canceled = true;\n    };\n  }, [productId]);\n  return __jsx(\"div\", {\n    className: \"analogs-table\"\n  }, __jsx(\"table\", null, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", {\n    className: \"analogs-table__column analogs-table__column--name\"\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_NAME\"\n  })), __jsx(\"th\", {\n    className: \"analogs-table__column analogs-table__column--rating\"\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_RATING\"\n  })), __jsx(\"th\", {\n    className: \"analogs-table__column analogs-table__column--brand\"\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_BRAND\"\n  })), __jsx(\"th\", {\n    className: \"analogs-table__column analogs-table__column--price\"\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_PRICE\"\n  })))), __jsx(\"tbody\", null, analogs.map(analog => __jsx(\"tr\", {\n    key: analog.id\n  }, __jsx(\"td\", {\n    className: \"analogs-table__column analogs-table__column--name\"\n  }, __jsx(AppLink, {\n    href: url.product(analog),\n    className: \"analogs-table__product-name\"\n  }, analog.name), __jsx(\"br\", null), __jsx(\"div\", {\n    className: \"analogs-table__sku\",\n    \"data-title\": intl.formatMessage({\n      id: 'TABLE_SKU'\n    })\n  }, analog.sku)), __jsx(\"td\", {\n    className: \"analogs-table__column analogs-table__column--rating\"\n  }, __jsx(\"div\", {\n    className: \"analogs-table__rating\"\n  }, __jsx(\"div\", {\n    className: \"analogs-table__rating-stars\"\n  }, __jsx(Rating, {\n    value: analog.rating || 0\n  })), __jsx(\"div\", {\n    className: \"analogs-table__rating-label\"\n  }, __jsx(FormattedMessage, {\n    id: \"TEXT_RATING_LABEL\",\n    values: {\n      rating: analog.rating,\n      reviews: analog.reviews\n    }\n  })))), __jsx(\"td\", {\n    className: \"analogs-table__column analogs-table__column--brand\",\n    \"data-title\": intl.formatMessage({\n      id: 'TABLE_BRAND'\n    })\n  }, analog.brand && __jsx(React.Fragment, null, analog.brand.name, __jsx(\"div\", {\n    className: \"analogs-table__country\"\n  }, \"(\", __jsx(FormattedMessage, {\n    id: `COUNTRY_NAME_${analog.brand.country}`\n  }), \")\"))), __jsx(\"td\", {\n    className: \"analogs-table__column analogs-table__column--price\"\n  }, __jsx(CurrencyFormat, {\n    value: analog.price\n  })))))));\n}\n\nexport default AnalogsTable;","map":null,"metadata":{},"sourceType":"module"}
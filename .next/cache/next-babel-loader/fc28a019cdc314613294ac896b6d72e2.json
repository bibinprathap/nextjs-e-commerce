{"ast":null,"code":"var __jsx = React.createElement;\n// react\nimport React, { useEffect, useState } from 'react'; // application\n\nimport ShopPageOrderSuccess from '~/components/shop/ShopPageOrderSuccess';\nimport { accountApi } from '~/api';\nimport { useAppRouter } from '~/services/router';\n\nfunction Page() {\n  const router = useAppRouter();\n  const {\n    0: order,\n    1: setOrder\n  } = useState(null);\n  const {\n    token\n  } = router.query;\n  useEffect(() => {\n    let canceled = false;\n\n    if (typeof token === 'string') {\n      accountApi.getOrderByToken(token).then(result => {\n        if (canceled) {\n          return;\n        }\n\n        setOrder(result);\n      });\n    } else {\n      setOrder(null);\n    }\n\n    return () => {\n      canceled = true;\n    };\n  }, [token]);\n\n  if (!order) {\n    return null;\n  }\n\n  return __jsx(ShopPageOrderSuccess, {\n    order: order\n  });\n}\n\nexport default Page;","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n// react\nimport React, { useState } from 'react'; // third-party\n\nimport classNames from 'classnames'; // application\n\nimport AppLink from '~/components/shared/AppLink';\nimport Megamenu from '~/components/header/Megamenu';\nimport Menu from '~/components/header/Menu';\nimport { ArrowDownSm7x5Svg } from '~/svg';\nimport { useOptions } from '~/store/options/optionsHooks'; // data\n\nimport dataHeaderMainMenu from '~/data/headerMainMenu';\n\nfunction MainMenu() {\n  const items = dataHeaderMainMenu;\n  const {\n    0: currentItem,\n    1: setCurrentItem\n  } = useState(null);\n  const options = useOptions();\n  const desktopLayout = options.desktopHeaderLayout;\n\n  const handleItemMouseEnter = item => {\n    setCurrentItem(item);\n  };\n\n  const handleItemMouseLeave = item => {\n    if (currentItem === item) {\n      setCurrentItem(null);\n    }\n  };\n\n  const handleItemClick = () => {\n    setCurrentItem(null);\n  };\n\n  return __jsx(\"div\", {\n    className: \"main-menu\"\n  }, __jsx(\"ul\", {\n    className: \"main-menu__list\"\n  }, items.map((item, index) => {\n    var _item$customFields, _item$customFields$ig, _item$submenu, _item$submenu2, _item$customFields2, _item$submenu3, _item$submenu4;\n\n    if ((_item$customFields = item.customFields) === null || _item$customFields === void 0 ? void 0 : (_item$customFields$ig = _item$customFields.ignoreIn) === null || _item$customFields$ig === void 0 ? void 0 : _item$customFields$ig.includes(desktopLayout)) {\n      return null;\n    }\n\n    const itemHasSubmenu = !!item.submenu;\n    const itemClasses = classNames('main-menu__item', {\n      'main-menu__item--has-submenu': itemHasSubmenu,\n      'main-menu__item--submenu--menu': ((_item$submenu = item.submenu) === null || _item$submenu === void 0 ? void 0 : _item$submenu.type) === 'menu',\n      'main-menu__item--submenu--megamenu': ((_item$submenu2 = item.submenu) === null || _item$submenu2 === void 0 ? void 0 : _item$submenu2.type) === 'megamenu',\n      'main-menu__item--hover': item === currentItem\n    });\n    return __jsx(\"li\", {\n      className: itemClasses,\n      key: index,\n      onMouseEnter: () => handleItemMouseEnter(item),\n      onMouseLeave: () => handleItemMouseLeave(item)\n    }, __jsx(AppLink, _extends({\n      className: \"main-menu__link\",\n      href: item.url,\n      onClick: handleItemClick\n    }, (_item$customFields2 = item.customFields) === null || _item$customFields2 === void 0 ? void 0 : _item$customFields2.anchorProps), item.title, itemHasSubmenu && __jsx(ArrowDownSm7x5Svg, null)), itemHasSubmenu && __jsx(\"div\", {\n      className: \"main-menu__submenu\"\n    }, ((_item$submenu3 = item.submenu) === null || _item$submenu3 === void 0 ? void 0 : _item$submenu3.type) === 'menu' && __jsx(Menu, {\n      items: item.submenu.links,\n      onItemClick: handleItemClick\n    }), ((_item$submenu4 = item.submenu) === null || _item$submenu4 === void 0 ? void 0 : _item$submenu4.type) === 'megamenu' && __jsx(\"div\", {\n      className: classNames('main-menu__megamenu', `main-menu__megamenu--size--${item.submenu.size}`)\n    }, __jsx(Megamenu, {\n      menu: item.submenu,\n      onItemClick: handleItemClick\n    }))));\n  })));\n}\n\nexport default MainMenu;","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"// application\nimport { WISHLIST_ADD_ITEM, WISHLIST_REMOVE_ITEM } from '~/store/wishlist/wishlistActionTypes';\nimport { withClientState } from '~/store/client';\n\nfunction addItem(state, product) {\n  const itemIndex = state.items.findIndex(x => x.id === product.id);\n\n  if (itemIndex === -1) {\n    return {\n      items: [...state.items, JSON.parse(JSON.stringify(product))]\n    };\n  }\n\n  return state;\n}\n\nfunction removeItem(state, productId) {\n  return {\n    items: state.items.filter(x => x.id !== productId)\n  };\n}\n\nconst initialState = {\n  items: []\n};\nexport const WISHLIST_NAMESPACE = 'wishlist';\n\nfunction wishlistBaseReducer(state = initialState, action) {\n  switch (action.type) {\n    case WISHLIST_ADD_ITEM:\n      return addItem(state, action.product);\n\n    case WISHLIST_REMOVE_ITEM:\n      return removeItem(state, action.productId);\n\n    default:\n      return state;\n  }\n}\n\nconst wishlistReducer = withClientState(wishlistBaseReducer, WISHLIST_NAMESPACE);\nexport default wishlistReducer;","map":null,"metadata":{},"sourceType":"module"}
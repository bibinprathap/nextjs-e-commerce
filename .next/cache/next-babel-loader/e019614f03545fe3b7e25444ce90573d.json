{"ast":null,"code":"var __jsx = React.createElement;\n// react\nimport React from 'react'; // third-party\n\nimport classNames from 'classnames';\nimport { FormattedMessage } from 'react-intl'; // application\n\nimport AppImageNew from '~/components/shared/AppImageNew';\nimport AppLink from '~/components/shared/AppLink';\nimport AsyncAction from '~/components/shared/AsyncAction';\nimport CurrencyFormat from '~/components/shared/CurrencyFormat';\nimport url from '~/services/url';\nimport { Cross10Svg } from '~/svg';\nimport { useCart, useCartRemoveItem } from '~/store/cart/cartHooks';\n\nfunction Dropcart(props) {\n  const {\n    onCloseMenu\n  } = props;\n  const cart = useCart();\n  const cartRemoveItem = useCartRemoveItem();\n  return __jsx(\"div\", {\n    className: \"dropcart\"\n  }, cart.items.length === 0 && __jsx(\"div\", {\n    className: \"dropcart__empty\"\n  }, __jsx(FormattedMessage, {\n    id: \"TEXT_YOUR_SHOPPING_CART_IS_EMPTY\"\n  })), cart.items.length > 0 && __jsx(React.Fragment, null, __jsx(\"ul\", {\n    className: \"dropcart__list\"\n  }, cart.items.map((item, index) => __jsx(React.Fragment, {\n    key: index\n  }, __jsx(\"li\", {\n    className: \"dropcart__item\"\n  }, __jsx(\"div\", {\n    className: \"dropcart__item-image image image--type--product\"\n  }, __jsx(AppLink, {\n    className: \"image__body\",\n    href: url.product(item.product),\n    onClick: onCloseMenu\n  }, __jsx(AppImageNew, {\n    className: \"image__tag\",\n    src: item.product.images && item.product.images[0]\n  }))), __jsx(\"div\", {\n    className: \"dropcart__item-info\"\n  }, __jsx(\"div\", {\n    className: \"dropcart__item-name\"\n  }, __jsx(AppLink, {\n    href: url.product(item.product),\n    onClick: onCloseMenu\n  }, item.product.name)), item.options.length > 0 && __jsx(\"ul\", {\n    className: \"dropcart__item-features\"\n  }, item.options.map((option, optionIndex) => __jsx(\"li\", {\n    key: optionIndex\n  }, option.name, ': ', option.value))), __jsx(\"div\", {\n    className: \"dropcart__item-meta\"\n  }, __jsx(\"div\", {\n    className: \"dropcart__item-quantity\"\n  }, item.quantity), __jsx(\"div\", {\n    className: \"dropcart__item-price\"\n  }, __jsx(CurrencyFormat, {\n    value: item.price\n  })))), __jsx(AsyncAction, {\n    action: () => cartRemoveItem(item.id),\n    render: ({\n      run,\n      loading\n    }) => __jsx(\"button\", {\n      type: \"button\",\n      className: classNames('dropcart__item-remove', {\n        'dropcart__item-remove--loading': loading\n      }),\n      onClick: run\n    }, __jsx(Cross10Svg, null))\n  })), __jsx(\"li\", {\n    className: \"dropcart__divider\",\n    role: \"presentation\"\n  })))), __jsx(\"div\", {\n    className: \"dropcart__totals\"\n  }, __jsx(\"table\", null, __jsx(\"tbody\", null, __jsx(\"tr\", null, __jsx(\"th\", null, __jsx(FormattedMessage, {\n    id: \"TABLE_TOTAL\"\n  })), __jsx(\"td\", null, __jsx(CurrencyFormat, {\n    value: cart.subtotal\n  })))))), __jsx(\"div\", {\n    className: \"dropcart__actions\"\n  }, __jsx(AppLink, {\n    href: url.cart(),\n    className: \"btn btn-secondary\",\n    onClick: onCloseMenu\n  }, __jsx(FormattedMessage, {\n    id: \"BUTTON_VIEW_CART\"\n  })), __jsx(AppLink, {\n    href: url.checkout(),\n    className: \"btn btn-primary\",\n    onClick: onCloseMenu\n  }, __jsx(FormattedMessage, {\n    id: \"BUTTON_CHECKOUT\"\n  })))));\n}\n\nexport default Dropcart;","map":null,"metadata":{},"sourceType":"module"}